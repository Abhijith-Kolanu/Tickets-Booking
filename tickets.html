<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Booking Page</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>
<body class="d-flex justify-content-center align-items-center p-5 bg-light">
    <div class="card p-4 container">
        <form action="status.html">
            <input class="form-control" id="fromAddress" type="text" placeholder="Enter FROM address" aria-label="default input example" required><br>
            <input class="form-control" id="toAddress" type="text" placeholder="Enter TO address" aria-label="default input example" required><br>
            <div class="container">
                <label for="customRange1" class="form-label">Tickets count</label>
                <div class="d-flex align-items-center">
                    <input type="range" class="form-range" id="customRange1" min="1" max="10" step="1" value="5" required>
                    <span class="ms-2" id="rangeValue">5</span>
                </div>
            </div><br>
            <input class="form-control" type="date" placeholder="Default input" aria-label="default input example" required>
            <br>
            <input class="form-control" type="time" placeholder="Default input" aria-label="default input example" required><br>
            
            <!-- Total Amount Section -->
            <div class="container">
                <label for="totalAmount" class="form-label">Total Amount:</label>
                <div class="d-flex align-items-center">
                    <span id="totalAmount" class="ms-2">$0</span>
                </div>
            </div><br>
            
            <div class="text-center">
                <button type="submit" class="btn btn-primary">Confirm Booking</button>
            </div>
        </form>
    </div>

    <script>
        const rangeInput = document.getElementById('customRange1');
        const rangeValue = document.getElementById('rangeValue');
        const totalAmount = document.getElementById('totalAmount');
        const fromAddress = document.getElementById('fromAddress');
        const toAddress = document.getElementById('toAddress');

        const ticketPrice = 50; // Example price per ticket
        const baseDistance = 100; // Example base distance for the price
        const distanceMultiplier = 0.5; // Example multiplier based on distance

        function calculateTotal() {
            const ticketsCount = rangeInput.value;

            // Example distance-based logic (assuming a fixed price per distance)
            let distanceFactor = 1; 
            if (fromAddress.value && toAddress.value) {
                // Simple mock of a distance calculation (this could be more complex)
                distanceFactor = baseDistance * distanceMultiplier;
            }

            const total = ticketsCount * ticketPrice * distanceFactor;
            totalAmount.textContent = `$${total.toFixed(2)}`;
        }

        // Update the displayed value and total amount when the range input changes
        rangeInput.addEventListener('input', function() {
            rangeValue.textContent = rangeInput.value;
            calculateTotal();
        });

        // Recalculate the total if addresses change (assuming dynamic distance calculation)
        fromAddress.addEventListener('input', calculateTotal);
        toAddress.addEventListener('input', calculateTotal);

        // Initial calculation
        calculateTotal();
    </script>
</body>
</html>
